<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proyecta Design | Architecture & Engineering</title>
    
    <!-- Fonts: Space Grotesk (Raw/Technical) & Inter (Functional) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Space+Grotesk:wght@300;500;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- GSAP & Lenis -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>

    <style>
        :root {
            --bg: #050505;
            --text: #e0e0e0;
            --accent-cyan: #00FFFF; /* Security/Tech */
            --accent-yellow: #FFFF00; /* Commercial/Interior */
            --accent-green: #00FF00; /* Landscape/Hospitality */
            --accent-red: #FF3333; /* Residential */
            --grid-line: #222;
            
            --font-head: 'Space Grotesk', sans-serif;
            --font-body: 'Inter', sans-serif;
        }

        * {
            box-sizing: border-box;
            cursor: none; /* Custom cursor logic */
        }

        /* Scrollbar styling for modal */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0a0a0a;
        }
        ::-webkit-scrollbar-thumb {
            background: #333;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        body {
            background-color: var(--bg);
            color: var(--text);
            font-family: var(--font-body);
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        h1, h2, h3, h4, .raw-title, .font-head {
            font-family: var(--font-head);
            letter-spacing: -0.02em;
        }

        /* --- CUSTOM CURSOR (FIXED Z-INDEX) --- */
        .cursor {
            position: fixed;
            top: 0;
            left: 0;
            width: 12px;
            height: 12px;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            z-index: 20001;
            transform: translate(-50%, -50%);
            mix-blend-mode: difference;
            transition: width 0.3s, height 0.3s, background-color 0.2s;
        }

        .cursor-label {
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 20002;
            font-size: 14px;
            font-family: var(--font-head);
            text-transform: uppercase;
            color: black;
            background: white;
            padding: 4px 12px;
            opacity: 0;
            white-space: nowrap;
            font-weight: 700;
        }

        /* --- PRELOADER (GEOMETRIC STYLE) --- */
        .preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: var(--bg);
            z-index: 20000;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .composition-container {
            --u: 20px;
            display: grid;
            grid-template-columns: repeat(10, var(--u)); 
            grid-auto-rows: var(--u);
            position: relative;
            transform-origin: center center;
        }

        .block {
            width: 100%;
            height: 100%;
            opacity: 0;
            transform-origin: center center;
        }

        .cyan { background-color: #28C4F5; grid-column: 1 / span 4; grid-row: 1 / span 8; }
        .yellow { background-color: #FCEE21; grid-column: 7 / span 2; grid-row: 3 / span 2; }
        .green { background-color: #8CC63F; grid-column: 7 / span 4; grid-row: 9 / span 8; }
        .red { background-color: #EE3637; grid-column: 3 / span 2; grid-row: 11 / span 2; }

        /* --- SECTIONS --- */
        section {
            padding: 100px 5vw;
            border-bottom: 1px solid var(--grid-line);
            position: relative;
        }

        /* --- HERO --- */
        .hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            padding-bottom: 50px;
            position: relative;
            overflow: hidden;
        }
        .hero-bg-container {
            position: absolute; inset: 0; z-index: -1; overflow: hidden;
        }
        .hero-slide {
            position: absolute; inset: 0; width: 100%; height: 100%;
            object-fit: cover; opacity: 0; transition: opacity 1.5s ease-in-out;
            filter: brightness(0.6) grayscale(100%); transform: scale(1.1);
        }
        .hero-slide.active { opacity: 1; transform: scale(1); transition: opacity 1.5s ease-in-out, transform 10s linear; }
        .hero-overlay {
            position: absolute; inset: 0; background: linear-gradient(to bottom, rgba(0,0,0,0.3), var(--bg)); z-index: 0;
        }
        .hero-content {
            position: relative;
            z-index: 10;
        }

        .hero-title {
            font-size: 9vw;
            line-height: 0.85;
            font-weight: 500;
            margin-bottom: 2rem;
            color: white;
        }
        .hero-subtitle {
            font-size: 1.5rem;
            max-width: 600px;
            color: #ddd;
            border-left: 2px solid white;
            padding-left: 20px;
        }

        /* --- PROJECTS GRID --- */
        .project-grid {
            display: grid;
            grid-template-columns: repeat(1, 1fr);
            gap: 2rem;
            margin-top: 50px;
        }
        @media(min-width: 768px) {
            .project-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        @media(min-width: 1200px) {
            .project-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        .project-item {
            position: relative;
            aspect-ratio: 4/5;
            overflow: hidden;
            border: 1px solid #222;
        }
        .project-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: grayscale(100%) brightness(0.6);
            transition: all 0.6s ease;
            transform: scale(1.05);
        }
        .project-item:hover .project-img {
            filter: grayscale(0%) brightness(1);
            transform: scale(1);
        }

        /* --- MODAL --- */
        .modal-overlay {
            position: fixed; inset: 0; background: #0a0a0a; z-index: 15000;
            transform: translateY(100%); transition: transform 0.8s cubic-bezier(0.77, 0, 0.175, 1);
            overflow-y: auto; display: flex; flex-direction: column;
        }
        .modal-overlay.open { transform: translateY(0); }
        .modal-content { max-width: 1400px; margin: 0 auto; width: 100%; padding: 4rem 2rem; opacity: 0; transition: opacity 0.5s 0.3s; }
        .modal-overlay.open .modal-content { opacity: 1; }
        
        .gallery-grid {
            display: grid; grid-template-columns: 1fr; gap: 2rem; margin-top: 4rem;
        }
        @media(min-width: 768px) { .gallery-grid { grid-template-columns: 2fr 1fr; } }


        /* --- STUDIO --- */
        .studio-layout {
            display: grid;
            grid-template-columns: 1fr;
            gap: 40px;
        }
        @media(min-width: 900px) {
            .studio-layout {
                grid-template-columns: 1fr 2fr;
            }
        }
        .stat-number {
            font-size: 4rem;
            font-family: var(--font-head);
            color: white;
            display: block;
        }

        /* --- FOOTER & CONTACT --- */
        footer {
            padding: 0; 
            min-height: auto;
            display: block;
        }
        
        .text-outline { -webkit-text-stroke: 1px rgba(255,255,255,0.2); color: transparent; }
        
        .btn-outline {
            border: 1px solid rgba(255,255,255,0.3); padding: 1rem 2rem;
            text-transform: uppercase; letter-spacing: 2px; font-size: 0.8rem;
            background: transparent; color: white; transition: all 0.3s; font-family: var(--font-head);
            cursor: pointer;
        }
        .btn-outline:hover { background: white; color: black; border-color: white; }

        input, textarea {
            background: transparent; border: none; border-bottom: 1px solid #333;
            color: white; width: 100%; padding: 1rem 0; outline: none; transition: border 0.3s;
            font-family: var(--font-body);
        }
        input:focus, textarea:focus { border-bottom-color: var(--accent-cyan); }

    </style>
</head>
<body>

    <!-- CUSTOM CURSOR -->
    <div class="cursor"></div>
    <div class="cursor-label">View Project</div>

    <!-- PRELOADER -->
    <div class="preloader">
        <div class="composition-container">
            <div class="block cyan"></div>
            <div class="block yellow"></div>
            <div class="block red"></div>
            <div class="block green"></div>
        </div>
    </div>

    <!-- HEADER (LOGO ONLY, NO MENU) -->
    <header class="fixed top-0 left-0 p-6 z-50">
        <!-- 
            IMPORTANTE: Guarda la imagen de tu logo como "logo.png" 
            en la misma carpeta que este archivo. 
        -->
        <img src="./logo.png" alt="Proyecta Design" class="h-36 md:h-40 object-contain">
    </header>

    <main>
        <!-- HERO -->
        <section class="hero" id="home">
            <div class="hero-bg-container">
                <!-- High Quality Architecture Images -->
                <img src="https://images.unsplash.com/photo-1486718448742-163732cd1544?q=80&w=2560&auto=format&fit=crop" class="hero-slide active" alt="Slide 1">
                <img src="https://images.unsplash.com/photo-1487958449943-2429e8be8625?q=80&w=2560&auto=format&fit=crop" class="hero-slide" alt="Slide 2">
                <img src="https://images.unsplash.com/photo-1470058869958-2a77ade41c02?q=80&w=2560&auto=format&fit=crop" class="hero-slide" alt="Slide 3">
                <div class="hero-overlay"></div>
            </div>

            <div class="hero-content">
                <h1 class="hero-title">ARCHITECTURE<br>FOR LIFE.</h1>
                <div class="flex flex-col md:flex-row justify-between items-end">
                    <p class="hero-subtitle">
                        We transform the urban environment with a perfect balance between form and function. Multi-disciplinary design from Valencia to the world.
                    </p>
                    <div class="mt-8 md:mt-0 text-right">
                        <span class="block text-xs uppercase text-gray-500 mb-2">Established 2016</span>
                        <div class="text-white text-sm">SCROLL TO EXPLORE</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- PROJECTS GRID -->
        <section id="projects">
            <div class="flex justify-between items-end mb-12">
                <h2 class="text-4xl md:text-6xl text-white">SELECTED WORKS</h2>
                <div class="text-xs uppercase tracking-widest text-gray-400">Sort by: Type / Year</div>
            </div>

            <div class="project-grid">
                <!-- Project 1 -->
                <div class="project-item" data-cat="commercial" data-color="var(--accent-yellow)"
                     data-title="The Velvet Monkey" data-year="2024" data-loc="Venezuela" 
                     data-desc="Commercial / F&B. Capturing the brand essence in an iconic structure.">
                    <img src="https://images.unsplash.com/photo-1554995207-c18c203602cb?q=80&w=1200&auto=format&fit=crop" class="project-img" alt="The Velvet Monkey">
                </div>

                <!-- Project 2 -->
                <div class="project-item" data-cat="hospitality" data-color="var(--accent-green)"
                     data-title="Glamping La Cepa" data-year="2024" data-loc="Colombia" 
                     data-desc="Hospitality. Integrating public spaces into every design concept within nature.">
                    <img src="https://images.unsplash.com/photo-1499678329028-101435549a4e?q=80&w=1200&auto=format&fit=crop" class="project-img" alt="Glamping La Cepa">
                </div>

                <!-- Project 3 -->
                <div class="project-item" data-cat="interior" data-color="var(--accent-cyan)"
                     data-title="Manpica HQ" data-year="2023" data-loc="Venezuela" 
                     data-desc="Security / Commercial. Precise technical solutions for complex structures.">
                    <img src="https://images.unsplash.com/photo-1497366216548-37526070297c?q=80&w=1200&auto=format&fit=crop" class="project-img" alt="Manpica">
                </div>

                <!-- Project 4 -->
                <div class="project-item" data-cat="residential" data-color="var(--accent-red)"
                     data-title="Urban Complex G-03" data-year="2023" data-loc="Venezuela" 
                     data-desc="Residential. Avant-garde residential spaces with a citizen-centric approach.">
                    <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?q=80&w=1200&auto=format&fit=crop" class="project-img" alt="Urban Complex">
                </div>

                <!-- Project 5 -->
                <div class="project-item" data-cat="interior" data-color="var(--accent-cyan)"
                     data-title="Álvaro Rodríguez Bar" data-year="2024" data-loc="Venezuela" 
                     data-desc="Interior Design. Bespoke interiors reflecting identity.">
                    <img src="https://images.unsplash.com/photo-1481277542470-605612bd2d61?q=80&w=1200&auto=format&fit=crop" class="project-img" alt="Bar Interior">
                </div>

                 <!-- Project 6 -->
                 <div class="project-item" data-cat="residential" data-color="var(--accent-red)"
                      data-title="Modular Housing" data-year="2024" data-loc="USA" 
                      data-desc="Residential. Specialized in shipping container architecture and modular pre-fab systems.">
                    <img src="https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=1200&auto=format&fit=crop" class="project-img" alt="Modular Housing">
                </div>
            </div>
        </section>

        <!-- STUDIO SECTION -->
        <section id="studio">
            <div class="studio-layout">
                <div>
                    <h2 class="text-5xl text-white mb-8">OUR HERITAGE</h2>
                    <div class="grid grid-cols-2 gap-8 mb-10">
                        <div>
                            <span class="stat-number">9+</span>
                            <span class="text-sm text-gray-500 uppercase">Years of Innovation</span>
                        </div>
                        <div>
                            <span class="stat-number">5+</span>
                            <span class="text-sm text-gray-500 uppercase">Countries Reached</span>
                        </div>
                    </div>
                </div>
                <div class="text-xl leading-relaxed text-gray-300">
                    <p class="mb-8"><strong class="text-white">FORM & FUNCTION.</strong> The core theory behind every structure we build.</p>
                    <p class="mb-8">Founded in 2016 by Architect <span class="text-white">Jose Zerpa</span> and Engineer <span class="text-white">Marcos Zerlin</span>, Proyecta Design operates as a family. We are committed to improving urban life by integrating public spaces into every design concept.</p>
                    <p class="mb-8">"Architecture must bring the city to life by creating spaces that enhance daily routines."</p>
                    
                    <div class="mt-12 border-t border-gray-800 pt-8">
                        <h4 class="text-white text-lg mb-4 uppercase tracking-widest">Global Footprint</h4>
                        <p class="text-gray-500">Venezuela · USA · Panama · Costa Rica · Colombia · Brazil</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- CAPABILITIES -->
        <section id="services" class="bg-[#0a0a0a]">
            <h2 class="text-4xl text-white mb-12">CAPABILITIES</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="border-t border-gray-800 pt-4">
                    <h4 class="text-white mb-2">Architectural Design</h4>
                    <p class="text-sm text-gray-500">Avant-garde residential and commercial spaces with a citizen-centric approach.</p>
                </div>
                <div class="border-t border-gray-800 pt-4">
                    <h4 class="text-white mb-2">Structural Engineering</h4>
                    <p class="text-sm text-gray-500">Precise technical solutions for large-scale and complex structures.</p>
                </div>
                <div class="border-t border-gray-800 pt-4">
                    <h4 class="text-white mb-2">Interior Architecture</h4>
                    <p class="text-sm text-gray-500">Bespoke interiors, modern kitchens, custom cabinetry, and premium materials.</p>
                </div>
                <div class="border-t border-gray-800 pt-4">
                    <h4 class="text-white mb-2">Urban Landscape</h4>
                    <p class="text-sm text-gray-500">Integrating public space as a primary objective. Design of interactions between humans and environment.</p>
                </div>
            </div>
        </section>

        <!-- CONTACT -->
        <section id="contact" class="py-32 px-6 md:px-20 border-t border-gray-900 bg-[#050505]">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-20">
                <div>
                    <h2 class="text-5xl md:text-7xl text-white font-head leading-none mb-8">
                        START<br><span class="text-outline">SOMETHING NEW</span>
                    </h2>
                    <div class="space-y-4 text-gray-400 font-head">
                        <p>Valencia, Venezuela (HQ)</p>
                        <p><a href="mailto:info@proyectadesign.com" class="hover:text-white transition">info@proyectadesign.com</a></p>
                        <p>+58 412 000 0000</p>
                    </div>
                    <div class="flex gap-4 mt-12">
                        <a href="#" class="text-xs uppercase text-white border border-white rounded-full px-4 py-2 hover:bg-white hover:text-black transition">Instagram</a>
                        <a href="#" class="text-xs uppercase text-white border border-white rounded-full px-4 py-2 hover:bg-white hover:text-black transition">LinkedIn</a>
                    </div>
                </div>

                <form class="space-y-8 mt-8 md:mt-0" onsubmit="event.preventDefault();">
                    <div>
                        <label class="text-xs text-gray-500 uppercase tracking-widest">Your Name</label>
                        <input type="text" placeholder="John Doe">
                    </div>
                    <div>
                        <label class="text-xs text-gray-500 uppercase tracking-widest">Your Email</label>
                        <input type="email" placeholder="john@example.com">
                    </div>
                    <div>
                        <label class="text-xs text-gray-500 uppercase tracking-widest">Project Brief</label>
                        <textarea rows="3" placeholder="Tell us briefly about your vision..."></textarea>
                    </div>
                    <button type="submit" class="btn-outline w-full text-center">Send Proposal</button>
                </form>
            </div>
            
            <footer class="mt-20 pt-8 border-t border-gray-900 text-center md:text-left flex flex-col md:flex-row justify-between text-xs text-gray-600 uppercase font-head">
                <div>© 2026 Proyecta Design. All rights reserved.</div>
                <div>Architecture & Engineering</div>
            </footer>
        </section>
    </main>

    <!-- MODAL -->
    <div class="modal-overlay" id="projectModal" data-lenis-prevent>
        <div class="fixed top-6 right-6 md:top-10 md:right-10 z-50 cursor-pointer mix-blend-difference">
            <button id="closeModalBtn" class="text-white font-head text-sm uppercase border border-white px-4 py-2 hover:bg-white hover:text-black transition">Close [ESC]</button>
        </div>
        
        <div class="modal-content">
            <div class="border-b border-gray-800 pb-8 mb-8">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-end">
                    <h2 class="text-5xl md:text-8xl text-white font-head uppercase leading-none" id="mTitle">Project Title</h2>
                    <div class="mt-4 md:mt-0 text-right">
                        <div class="text-[var(--accent-cyan)] uppercase tracking-widest text-sm mb-1" id="mCat">Category</div>
                        <div class="text-gray-500 text-sm" id="mLocYear">Loc / Year</div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-12">
                <div class="md:col-span-1 text-gray-500 text-sm space-y-4">
                    <div>
                        <strong class="text-white block uppercase text-xs mb-1">Client</strong>
                        Confidential / Private
                    </div>
                    <div>
                        <strong class="text-white block uppercase text-xs mb-1">Services</strong>
                        Architecture, Structural Engineering, Interior Design
                    </div>
                    <div>
                        <strong class="text-white block uppercase text-xs mb-1">Status</strong>
                        Completed
                    </div>
                </div>
                <div class="md:col-span-2">
                    <p class="text-xl text-gray-300 leading-relaxed font-light" id="mDesc">
                        Long description...
                    </p>
                </div>
            </div>

            <div class="gallery-grid" id="mGallery">
                <!-- Gallery injected via JS -->
            </div>
        </div>
    </div>

    <!-- SCRIPTS -->
    <script>
        // 1. CONFIG
        const lenis = new Lenis({
            duration: 1.2,
            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
            direction: 'vertical',
            smooth: true,
        });
        function raf(time) {
            lenis.raf(time);
            requestAnimationFrame(raf);
        }
        requestAnimationFrame(raf);
        gsap.registerPlugin(ScrollTrigger);

        // 2. PRELOADER
        const tl = gsap.timeline();
        tl.to(".block", { opacity: 1, scale: 1, duration: 0.1, stagger: 0.1, ease: "power2.out" })
        .to(".cyan", { x: 60, y: 90, scaleX: 0.5, scaleY: 0.25, duration: 1.2, ease: "power4.inOut" }, "join")
        .to(".green", { x: -60, y: -70, scaleX: 0.5, scaleY: 0.25, duration: 1.2, ease: "power4.inOut" }, "join")
        .to(".yellow", { x: -40, y: 110, duration: 1.2, ease: "power4.inOut" }, "join")
        .to(".red", { x: 40, y: -50, duration: 1.2, ease: "power4.inOut" }, "join")
        .to(".composition-container", { rotation: 720, scale: 0.8, duration: 1.5, ease: "power2.inOut" })
        .to(".preloader", { yPercent: -100, duration: 1.2, ease: "expo.inOut", onComplete: () => { document.querySelector('.preloader').style.display = 'none'; } }, "+=0.1")
        .from(".hero-title", { y: 100, opacity: 0, duration: 1.5, ease: "power4.out" }, "-=0.8")
        .from(".hero-subtitle", { x: -50, opacity: 0, duration: 1, ease: "power2.out" }, "-=1");

        // 3. HERO SLIDESHOW
        const slides = document.querySelectorAll('.hero-slide');
        let currentSlide = 0;
        setInterval(() => {
            slides[currentSlide].classList.remove('active');
            currentSlide = (currentSlide + 1) % slides.length;
            slides[currentSlide].classList.add('active');
        }, 5000);

        // 4. CURSOR LOGIC (FIXED)
        const cursor = document.querySelector('.cursor');
        const cursorLabel = document.querySelector('.cursor-label');

        // QuickTo for better performance
        const xTo = gsap.quickTo(cursor, "x", { duration: 0.1, ease: "power3" });
        const yTo = gsap.quickTo(cursor, "y", { duration: 0.1, ease: "power3" });
        const xToLabel = gsap.quickTo(cursorLabel, "x", { duration: 0.15, ease: "power3" });
        const yToLabel = gsap.quickTo(cursorLabel, "y", { duration: 0.15, ease: "power3" });

        // Global mouse trackers
        let mouseX = 0;
        let mouseY = 0;

        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
            
            xTo(mouseX);
            yTo(mouseY);
            
            // Default offset for label
            xToLabel(mouseX + 20);
            yToLabel(mouseY + 20);
        });

        const projects = document.querySelectorAll('.project-item');

        projects.forEach(project => {
            // Hover: Show Title + Fix Jump Issue
            project.addEventListener('mouseenter', () => {
                const title = project.getAttribute('data-title');
                const cat = project.getAttribute('data-cat');
                const color = project.getAttribute('data-color');
                
                cursorLabel.innerHTML = title;
                
                // FORCE POSITION IMMEDIATELY to prevent jumping to 0,0
                gsap.set(cursorLabel, { x: mouseX + 20, y: mouseY + 20 });
                
                gsap.to(cursor, { scale: 3, backgroundColor: color, mixBlendMode: 'normal' });
                gsap.to(cursorLabel, { opacity: 1 });
            });
            
            project.addEventListener('mouseleave', () => {
                gsap.to(cursor, { scale: 1, backgroundColor: 'white', mixBlendMode: 'difference' });
                gsap.to(cursorLabel, { opacity: 0 });
            });

            // Click: Open Modal
            project.addEventListener('click', () => {
                openModal(project);
            });
        });

        // 5. MODAL LOGIC & IMAGES
        const modal = document.getElementById('projectModal');
        const mTitle = document.getElementById('mTitle');
        const mCat = document.getElementById('mCat');
        const mLocYear = document.getElementById('mLocYear');
        const mDesc = document.getElementById('mDesc');
        const mGallery = document.getElementById('mGallery');
        const closeModalBtn = document.getElementById('closeModalBtn');

        // Valid Extra Images for Gallery
        const extraImages = [
            "https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?q=80&w=800&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?q=80&w=800&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1600210492486-724fe5c67fb0?q=80&w=800&auto=format&fit=crop"
        ];

        function openModal(el) {
            // Reset cursor
            gsap.to(cursor, { scale: 1, backgroundColor: 'white', mixBlendMode: 'difference' });
            gsap.to(cursorLabel, { opacity: 0 });

            mTitle.innerText = el.getAttribute('data-title');
            mCat.innerText = el.getAttribute('data-cat');
            mCat.style.color = el.getAttribute('data-color');
            mLocYear.innerText = `${el.getAttribute('data-loc')} — ${el.getAttribute('data-year')}`;
            mDesc.innerText = el.getAttribute('data-desc') + " This project represents a deep exploration of materials and natural light. The structure was conceived to integrate seamlessly with the existing environment, utilizing sustainable construction techniques and local craftsmanship. The gallery below showcases construction details and the final result.";
            
            mGallery.innerHTML = '';
            
            // Main Image
            const mainImgSrc = el.querySelector('img').src;
            const mainImgWrap = document.createElement('div');
            mainImgWrap.className = 'col-span-1 md:col-span-2 aspect-video overflow-hidden relative';
            mainImgWrap.innerHTML = `<img src="${mainImgSrc}" class="w-full h-full object-cover">`;
            mGallery.appendChild(mainImgWrap);

            // Extra Images (Duplicated to fill grid if needed)
            extraImages.forEach(src => {
                const div = document.createElement('div');
                div.className = 'aspect-square overflow-hidden bg-gray-900';
                div.innerHTML = `<img src="${src}" class="w-full h-full object-cover hover:scale-110 transition duration-700">`;
                mGallery.appendChild(div);
            });

            modal.classList.add('open');
            lenis.stop();
        }

        function closeModal() {
            modal.classList.remove('open');
            lenis.start();
        }

        closeModalBtn.addEventListener('click', closeModal);

        // ESC Key Listener (Feature Request)
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && modal.classList.contains('open')) {
                closeModal();
            }
        });

        // 6. PARALLAX
        gsap.to(".hero-title", {
            yPercent: 50, ease: "none",
            scrollTrigger: { trigger: ".hero", start: "top top", end: "bottom top", scrub: true }
        });
    </script>
</body>
</html>
